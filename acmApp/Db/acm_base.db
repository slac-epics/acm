

record(mbboDirect, "$(P)Log-SP") {
    field(DTYP, "ACM Log Mask")
    field(OUT , "@$(DEV)")
    field(PINI, "YES")
    field(PHAS, "-1")
    field(NOBT, "16")
    field(RVAL, "$(DEBUG=1)") # enable only error messages by default
    info(autosaveFields_pass0, "RVAL")
}

record(stringin, "$(P)IP-I") {
    field(DTYP, "ACM Info")
    field(INP , "@$(DEV) offset=1")
    field(PINI, "YES")
}

record(stringin, "$(P)SWVER-I") {
    field(DTYP, "ACM Info")
    field(INP , "@$(DEV) offset=2")
    field(PINI, "YES")
}

# Stat counters

record(longin, "$(P)Cnt:RX-I") {
    field(DTYP, "ACM Counter")
    field(INP , "@$(DEV) offset=0")
    field(SCAN, "1 second")
    field(FLNK, "$(P)Cnt:TMO-I")
}

record(calc, "$(P)Rate:RX-I") {
    field(INPA, "$(P)Cnt:RX-I NPP MSI")
    field(CALC, "C:=A-B;B:=A;C")
    field(EGU , "Hz")
    field(PREC, "0")
    field(SCAN, "1 second")
}

record(longin, "$(P)Cnt:TMO-I") {
    field(DTYP, "ACM Counter")
    field(INP , "@$(DEV) offset=1")
    field(SCAN, "1 second")
    field(FLNK, "$(P)Cnt:ERR-I")
}

record(calc, "$(P)Rate:TMO-I") {
    field(INPA, "$(P)Cnt:TMO-I NPP MSI")
    field(CALC, "C:=A-B;B:=A;C")
    field(EGU , "Hz")
    field(PREC, "0")
    field(SCAN, "1 second")
    field(HIGH, "0.001")
    field(HSV , "MAJOR")
}

record(longin, "$(P)Cnt:ERR-I") {
    field(DTYP, "ACM Counter")
    field(INP , "@$(DEV) offset=2")
    field(SCAN, "1 second")
    field(FLNK, "$(P)Cnt:IGN-I")
}

record(calc, "$(P)Rate:ERR-I") {
    field(INPA, "$(P)Cnt:ERR-I NPP MSI")
    field(CALC, "C:=A-B;B:=A;C")
    field(EGU , "Hz")
    field(PREC, "0")
    field(SCAN, "1 second")
    field(HIGH, "0.001")
    field(HSV , "MAJOR")
}

record(longin, "$(P)Cnt:IGN-I") {
    field(DTYP, "ACM Counter")
    field(INP , "@$(DEV) offset=3")
    field(SCAN, "1 second")
    field(FLNK, "")
}

record(calc, "$(P)Rate:IGN-I") {
    field(INPA, "$(P)Cnt:IGN-I NPP MSI")
    field(CALC, "C:=A-B;B:=A;C")
    field(EGU , "Hz")
    field(PREC, "0")
    field(SCAN, "1 second")
}

record(longin, "$(P)Cnt:CPL-I") {
    field(DTYP, "ACM Counter")
    field(INP , "@$(DEV) offset=4")
    field(SCAN, "1 second")
    field(FLNK, "")
}

record(calc, "$(P)Rate:CPL-I") {
    field(INPA, "$(P)Cnt:CPL-I NPP MSI")
    field(CALC, "C:=A-B;B:=A;C")
    field(EGU , "Hz")
    field(PREC, "0")
    field(SCAN, "1 second")
}
